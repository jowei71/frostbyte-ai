<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FrostByte AI â€¢ BOOMBO EDITION</title>
    <meta name="theme-color" content="#0f172a">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
            color: #f8fafc; 
            min-height: 100vh; 
            overflow-x: hidden;
        }
        .glass { background: rgba(30,41,59,0.7); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.1); }
        .scanner-line { position: absolute; width: 100%; height: 5px; background: #f72585; box-shadow: 0 0 30px #f72585; animation: scan 2.5s infinite; }
        @keyframes scan { 0% { top: 0; opacity: 0; } 40% { opacity: 1; } 100% { top: 100%; opacity: 0; } }
        .btn-press:active { transform: scale(0.94); }
        .pulse-glow { animation: pulse 1.8s infinite; }
        @keyframes pulse { 0%,100% { box-shadow: 0 0 15px #f72585; } 50% { box-shadow: 0 0 40px #f72585; } }
        .shutter { animation: flash 0.2s; }
        @keyframes flash { 50% { background: #fff; } }
        .capture-btn { width: 80px; height: 80px; background: #fff; border: 6px solid #f72585; border-radius: 50%; position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 10; }
        .boom { font-weight: 900; color: #f72585; text-shadow: 0 0 20px #f72585; }
        .chakwana { font-style: italic; color: #ffd60a; }
    </style>
</head>
<body class="pb-20">
    <div class="fixed top-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-pink-600 text-center py-3 text-sm font-bold z-50">
        <i class="fa-solid fa-pepper-hot"></i> BOOMBO EDITION â€¢ Powered by Ireen Chakwana Magic <i class="fa-solid fa-crown"></i>
    </div>

    <main class="pt-20 px-4 max-w-4xl mx-auto text-center">
        <h1 class="text-5xl font-black mt-10 mb-2">
            Scan Your Food <span class="boom">BOOMBO!</span>
        </h1>
        <p class="text-cyan-300 text-lg mb-8">No food dies on Ireen's watch</p>

        <div class="glass rounded-3xl p-2 mb-8 shadow-2xl">
            <div class="bg-black/80 rounded-3xl overflow-hidden relative h-96 flex items-center justify-center">
                <div id="init" class="space-y-8">
                    <div class="w-32 h-32 mx-auto bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center pulse-glow">
                        <i class="fa-solid fa-camera text-6xl text-white"></i>
                    </div>
                    <button id="scan-btn" class="w-72 py-6 bg-gradient-to-r from-pink-600 to-purple-700 rounded-2xl text-xl font-black btn-press shadow-2xl">
                        <i class="fa-solid fa-bolt mr-3"></i> SCAN NOW BOOMBO!
                    </button>
                    <button id="demo-btn" class="w-72 py-5 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl font-bold btn-press">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> Demo (Ireen Approved)
                    </button>
                </div>

                <div id="camera" class="hidden absolute inset-0">
                    <video id="video" autoplay playsinline class="w-full h-full object-cover"></video>
                    <div class="scanner-line"></div>
                    <button id="capture" class="capture-btn"></button>
                    <button onclick="location.reload()" class="absolute top-4 right-4 bg-black/60 w-12 h-12 rounded-full">Ã—</button>
                </div>

                <div id="scanning" class="hidden absolute inset-0 bg-black">
                    <canvas id="canvas" class="w-full h-full object-cover opacity-60"></canvas>
                    <div class="scanner-line"></div>
                    <div class="absolute inset-0 flex flex-col items-center justify-center gap-6">
                        <img src="https://i.ibb.co/2qjb5Yc/ireen.png" alt="Ireen Chakwana" class="w-28 h-28 rounded-full border-4 border-pink-500 pulse-glow">
                        <p class="text-2xl font-black text-pink-400">Ireen is checking your fridge...<span class="loading-dots"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="results" class="hidden space-y-6">
            <div class="glass rounded-3xl p-8 text-center">
                <h2 class="text-4xl font-black mb-4">BOOMBO VERDICT</h2>
                <div id="items" class="space-y-6 my-8"></div>
                
                <button id="rescue" class="w-full py-6 bg-gradient-to-r from-orange-600 to-red-700 rounded-3xl font-black text-2xl btn-press shadow-2xl">
                    <i class="fa-solid fa-fire"></i> IRENE CHAKWANA RESCUE RECIPE <i class="fa-solid fa-fire"></i>
                </button>
            </div>
        </div>
    </main>

    <div id="modal" class="fixed inset-0 bg-black/90 hidden flex items-center justify-center p-6 z-50">
        <div class="bg-gradient-to-br from-purple-900 to-pink-900 rounded-3xl p-8 max-w-lg text-center">
            <h3 class="text-3xl font-black mb-6">IREEN CHAKWANA SPECIAL</h3>
            <div id="recipe" class="text-lg space-y-4"></div>
            <button onclick="document.getElementById('modal').classList.add('hidden')" class="mt-8 w-full py-5 bg-white text-black rounded-2xl font-black text-xl btn-press">
                Thank You Mama Ireen!
            </button>
        </div>
    </div>

    <audio id="shutter" src="https://assets.mixkit.co/sfx/preview/mixkit-camera-shutter-click-564.mp3"></audio>

    <script>
        const demos = [
            [
                {name: "Nshima leftovers", days: 1, emoji: "ðŸ²", tip: "Reheat with soup"},
                {name: "Kapenta", days: 3, emoji: "ðŸŸ", tip: "Fry with tomato"},
                {name: "Cabbage", days: 2, emoji: "ðŸ¥¬", tip: "Make chakwana salad"},
                {name: "Tomatoes", days: 1, emoji: "ðŸ…", tip: "Urgent!"},
                {name: "Ifisashi", days: 2, emoji: "ðŸ¥—", tip: "Eat with nshima"}
            ],
            [
                {name: "Village chicken", days: 1, emoji: "ðŸ—", tip: "Cook NOW!"},
                {name: "Dried fish", days: 30, emoji: "ðŸ ", tip: "Still strong"},
                {name: "Chibwabwa", days: 2, emoji: "ðŸŒ¿", tip: "Pumpkin leaves power"},
                {name: "Sour milk", days: 1, emoji: "ðŸ¥›", tip: "Make chikanda?"}
            ]
        ];

        let current = 0;

        document.getElementById('scan-btn').onclick = () => {
            document.getElementById('init').classList.add('hidden');
            document.getElementById('camera').classList.remove('hidden');
            navigator.mediaDevices.getUserMedia({video:{facingMode:'environment'}})
                .then(s=>{video.srcObject=s})
                .catch(()=>runDemo());
        };

        document.getElementById('demo-btn').onclick = runDemo;
        document.getElementById('capture').onclick = () => {
            document.getElementById('shutter').play();
            document.body.classList.add('shutter');
            setTimeout(()=>document.body.classList.remove('shutter'),200);
            runDemo();
        };

        function runDemo() {
            document.getElementById('camera').classList.add('hidden');
            document.getElementById('scanning').classList.remove('hidden');
            setTimeout(() => {
                const items = demos[current];
                current = (current + 1) % demos.length;
                showResults(items);
            }, 3500);
        }

        function showResults(items) {
            document.getElementById('scanning').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');
            const grid = document.getElementById('items');
            grid.innerHTML = '';
            items.forEach(i => {
                const div = document.createElement('div');
                div.className = 'glass rounded-2xl p-6 text-2xl';
                div.innerHTML = `
                    <div class="text-6xl mb-4">${i.emoji}</div>
                    <div class="font-bold">${i.name}</div>
                    <div class="text-4xl my-3 ${i.days<=2?'text-red-400':'text-yellow-400'}">${i.days} DAYS</div>
                    <div class="text-sm opacity-80">${i.tip}</div>
                `;
                grid.appendChild(div);
            });
            confetti({particleCount:150, spread:100, origin:{y:0.6}});
        }

        document.getElementById('rescue').onclick = () => {
            const recipe = `
                <h4 class="text-2xl font-black text-yellow-400">CHAKWANA RESCUE RELISH</h4>
                <p>Throw everything in the pot with onion, tomato, salt & cooking oil!</p>
                <p class="my-6 text-3xl">BOOMBO! ðŸ”¥</p>
                <p>Mama Ireen says: "No food dies in my house!" ðŸ‘‘</p>
            `;
            document.getElementById('recipe').innerHTML = recipe;
            document.getElementById('modal').classList.remove('hidden');
            confetti({particleCount:200, spread:120});
        };
    </script>
</body>
</html>